<?php
/**
 * @category   OPS
 * @package    Netresearch_OPS
 * @author     Thomas Birke <thomas.birke@netresearch.de>
 * @author     Michael Lühr <michael.luehr@netresearch.de>
 * @copyright  Copyright (c) 2012 Netresearch GmbH & Co. KG
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */

/**
 * Netresearch_OPS_Model_Payment_Alias
 *
 * @author     Thomas Birke <thomas.birke@netresearch.de>
 * @author     Michael Lühr <michael.luehr@netresearch.de>
 * @copyright  Copyright (c) 2012 Netresearch GmbH & Co. KG
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */

/* $this instanceof Netresearch_OPS_Block_Form_Alias */
?>
<?php $code = $this->getMethodCode() ?>
<?php $helper = Mage::helper('ops') ?>

<ul class="form-list ops-form-list" id="payment_form_<?php echo $code ?>" style="display:none;">
    <li>
        <?php $inputType = (1 < count($this->getAvailableAliases())) ? 'radio' : 'hidden' ?>
        <?php foreach ($this->getAvailableAliases() as $offset=>$alias): ?>
            <div class="ops_alias_option_details">
                <input type="<?php echo $inputType ?>" name="payment[ops_alias]" value="<?php echo $alias->getAlias(); ?>" id="ops_alias_option_<?php echo $offset ?>">
                <label for="ops_alias_option_<?php echo $offset ?>">
                    <?php echo $helper->__('Credit Card') ?>
                    <?php echo $alias->getPseudoAccountOrCCNo(); ?>
                    (<?php echo $helper->__($alias->getBrand()); ?>)<br />
                    <?php echo $helper->__('expires: %s', $alias->getExpirationDate()) ?>
                </label>
            </div>

        </select>
        <?php endforeach; ?>
    </li>
</ul>
